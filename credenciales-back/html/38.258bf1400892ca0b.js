"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[38],{38:(h,u,r)=>{r.r(u),r.d(u,{Tab3Page:()=>D});var _=r(177),s=r(4341),t=r(7305),e=r(3953),c=r(6328),p=r(3992),m=r(1277);let D=(()=>{var l;class d{constructor(i,a,o){this.preferencesService=i,this.usuariosService=a,this.router=o,this.userData={nombre:"",apellido1:"",apellido2:"",fecha_nacimiento:"",sexo:"",direccion:"",email:""}}ngOnInit(){this.loadUserData()}loadUserData(){const i=this.preferencesService.getIdUser();i&&this.usuariosService.obtenerDatosUsuario(i).subscribe({next:a=>{this.userData=a},error:a=>{console.error("Error loading user data:",a)}})}updateUserData(){const i=this.preferencesService.getIdUser();i&&this.usuariosService.modificarDatosUsuario(i,{nombre:this.userData.nombre,apellido1:this.userData.apellido1,apellido2:this.userData.apellido2,fecha_nacimiento:this.userData.fecha_nacimiento,sexo:this.userData.sexo,direccion:this.userData.direccion}).subscribe({next:o=>{console.log("User data updated successfully:",o),location.reload()},error:o=>{console.error("Error updating user data:",o)}})}logout(){this.preferencesService.clearSession(),this.router.navigate(["/tabs"]),location.reload()}}return(l=d).\u0275fac=function(i){return new(i||l)(e.rXU(c.W),e.rXU(p.dl),e.rXU(m.Ix))},l.\u0275cmp=e.VBU({type:l,selectors:[["app-tab3"]],standalone:!0,features:[e.aNF],decls:38,vars:8,consts:[[3,"translucent"],[3,"fullscreen"],["collapse","condense"],["size","large"],[3,"ngSubmit"],["position","floating"],["type","text","name","nombre","required","",3,"ngModelChange","ngModel"],["type","text","name","apellido1","required","",3,"ngModelChange","ngModel"],["type","text","name","apellido2","required","",3,"ngModelChange","ngModel"],["type","date","name","fecha_nacimiento","required","",3,"ngModelChange","ngModel"],["type","text","name","sexo","required","",3,"ngModelChange","ngModel"],["type","text","name","direccion","required","",3,"ngModelChange","ngModel"],["expand","full","type","submit"],["expand","full",3,"click"]],template:function(i,a){1&i&&(e.j41(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),e.EFF(3," Configuraciones "),e.k0s()()(),e.j41(4,"ion-content",1)(5,"ion-header",2)(6,"ion-toolbar")(7,"ion-title",3),e.EFF(8,"Configuraciones"),e.k0s()()(),e.j41(9,"form",4),e.bIt("ngSubmit",function(){return a.updateUserData()}),e.j41(10,"ion-item")(11,"ion-label",5),e.EFF(12,"Nombre"),e.k0s(),e.j41(13,"ion-input",6),e.mxI("ngModelChange",function(n){return e.DH7(a.userData.nombre,n)||(a.userData.nombre=n),n}),e.k0s()(),e.j41(14,"ion-item")(15,"ion-label",5),e.EFF(16,"Primer Apellido"),e.k0s(),e.j41(17,"ion-input",7),e.mxI("ngModelChange",function(n){return e.DH7(a.userData.apellido1,n)||(a.userData.apellido1=n),n}),e.k0s()(),e.j41(18,"ion-item")(19,"ion-label",5),e.EFF(20,"Segundo Apellido"),e.k0s(),e.j41(21,"ion-input",8),e.mxI("ngModelChange",function(n){return e.DH7(a.userData.apellido2,n)||(a.userData.apellido2=n),n}),e.k0s()(),e.j41(22,"ion-item")(23,"ion-label",5),e.EFF(24,"Fecha de Nacimiento"),e.k0s(),e.j41(25,"ion-input",9),e.mxI("ngModelChange",function(n){return e.DH7(a.userData.fecha_nacimiento,n)||(a.userData.fecha_nacimiento=n),n}),e.k0s()(),e.j41(26,"ion-item")(27,"ion-label",5),e.EFF(28,"Sexo"),e.k0s(),e.j41(29,"ion-input",10),e.mxI("ngModelChange",function(n){return e.DH7(a.userData.sexo,n)||(a.userData.sexo=n),n}),e.k0s()(),e.j41(30,"ion-item")(31,"ion-label",5),e.EFF(32,"Direcci\xf3n"),e.k0s(),e.j41(33,"ion-input",11),e.mxI("ngModelChange",function(n){return e.DH7(a.userData.direccion,n)||(a.userData.direccion=n),n}),e.k0s()(),e.j41(34,"ion-button",12),e.EFF(35,"Actualizar Datos"),e.k0s()(),e.j41(36,"ion-button",13),e.bIt("click",function(){return a.logout()}),e.EFF(37,"Cerrar Sesi\xf3n"),e.k0s()()),2&i&&(e.Y8G("translucent",!0),e.R7$(4),e.Y8G("fullscreen",!0),e.R7$(9),e.R50("ngModel",a.userData.nombre),e.R7$(4),e.R50("ngModel",a.userData.apellido1),e.R7$(4),e.R50("ngModel",a.userData.apellido2),e.R7$(4),e.R50("ngModel",a.userData.fecha_nacimiento),e.R7$(4),e.R50("ngModel",a.userData.sexo),e.R7$(4),e.R50("ngModel",a.userData.direccion))},dependencies:[t.eU,_.MD,t.ai,t.BC,t.W9,t.Jm,t.uz,t.he,t.$w,s.YN,s.qT,s.BC,s.cb,s.YS,s.vS,s.cV]}),d})()}}]);